

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title></title>
     <link href="../bootstrap/css/bootstrap.css" rel="stylesheet">


</head>
<body>

<div class="container" >


<div class="row">
  <div class="col">
    <button type="button" class="btn btn-primary" id="add">+</button>
  </div>
</div>

<form>
  <div class="row vente">

   <div class="col">
    <select class="form-control" id="prod">
      <option selected>choose...</option>
      <option value="prod1">prod1</option>
      <option value="prod2">prod2</option>
      <option value="prod3">prod3</option>
      <option value="prod4">prod4</option>
      <option value="prod5">prod5</option>
    </select>
   </div>


   <div class="col">
    <select class="form-control" id="typev">
      <option selected>type vente...</option>
      <option value="type1">type1</option>
      <option value="type2">type2</option>
     
    </select>
   </div>


   <div class="col">
    <input type="number" min="1" class="form-control" name="prix">
   </div>

   <div class="col">
    <input type="number" min="1" class="form-control" name="qty">
   </div>

   <div class="col">
    <input type="number" min="1" class="form-control" name="total" readonly>
   </div>

   <div class="col">
     <button type="button" min="1" class="btn btn-danger remove">x</button>
   </div>




  </div>







</form>



    </div>  <!-- container  -->
    <script src="../plugins/jquery/jquery.min.js"></script>
    <script src="../bootstrap/js/bootstrap.js"></script>

   <script>

     $(document).ready(function(){
         $(document).on('keyup change','input[name=prix],input[name=qty]',function(){

           $(".vente").each(function(){
              
              var prix=$(this).find("[name=prix]").val()
              var qty=$(this).find("[name=qty]").val()
               console.log(prix,qty)
               $(this).find("[name=total]").val(prix*qty)





           })
        
         })

$("#add").click(function(){
  var prix=$(this).find("[name=prix]").val(0)
  var qty=$(this).find("[name=qty]").val(0)
$(".vente").last().clone(true).insertAfter(".vente:last")


});



$(".remove").on('click',function(){


var del=$(this).parent().parent()
var cpt=$(".vente").length;
console.log(cpt)
if(cpt>1){
   del.remove()
}else{
  $(".remove").attr("disabled","disabled")
}



})



     });


   </script>
    
    </body>
    </html>
    